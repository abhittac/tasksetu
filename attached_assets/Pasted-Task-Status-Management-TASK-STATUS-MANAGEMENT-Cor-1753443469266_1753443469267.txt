Task Status Management

âœ… TASK STATUS MANAGEMENT
________________________________________
ğŸ§© Core Idea
â€¢	Every task and sub-task in Tasksetu must have a Status at all times.
â€¢	Status defines the current state of work on the task (e.g., "Open", "In Progress", "Completed").
â€¢	Each company can define its own statuses and the sequence/logic between them.

ğŸ” DEFAULT STATUS FLOW (System Default for All Companies)
These will apply only until the company defines their own.
Status Code	Label	Description
OPEN	Open	Task is created but not yet started
INPROGRESS	In Progress	Task is being worked on
ONHOLD	On Hold	Task is paused
DONE	Completed	Task has been completed
CANCELLED	Cancelled	Task was terminated intentionally
________________________________________
ğŸ¢ COMPANY-LEVEL CONFIGURABLE STATUSES
Each company admin can:
â€¢	Define their own statuses, label them, order them.
â€¢	Choose which ones are â€œactiveâ€ vs â€œfinalâ€ statuses.
â€¢	Map status change rules (e.g., "On Hold" can go back only to "Open" or "In Progress").
â€¢	Set default status for newly created tasks/sub-tasks.
UI for Admin (Company Settings > Task Settings > Status Configuration):
â€¢	Add New Status (Text, Color Picker, Description)
â€¢	Drag-drop to reorder
â€¢	Mark as â€œDefaultâ€ or â€œFinal Statusâ€
â€¢	Option to â€œHide system statusesâ€ (if fully custom)

**** The same kind of logic shall be applicable for priority settings as well ****

ğŸ§± 1. System-Defined Statuses (Tasksetu Core Layer)
These are required to support core application logic, analytics, and consistency across features.
Example system statuses:
â€¢	Not Started
â€¢	In Progress
â€¢	On Hold
â€¢	Completed
â€¢	Cancelled
System status codes (e.g. SYS_NOT_STARTED) will never change, and must be used internally.
________________________________________
ğŸ¢ 2. Company-Defined Statuses (Custom Layer)
Companies can configure their own statuses via Admin Panel.
Examples: The company defined status will be mapped with the system status codes only. The Admin must do this mapping in the settings.
â€¢	Pending â†’ mapped to Not Started
â€¢	Working On â†’ mapped to In Progress
â€¢	Blocked â†’ mapped to On Hold
â€¢	Closed, Done â†’ both mapped to Completed
ğŸ§© Rules:
â€¢	One system status can have multiple company statuses.
â€¢	Each company status must be mapped to a valid system status.
â€¢	Mapping is mandatory at the time of status creation or update.
â€¢	Company can edit names, colors, order, but not delete a system status mapping.

âš™ï¸ 3. Admin Status Configuration Flow
Step-by-step:
1.	Admin goes to Company Settings â†’ Status Management
2.	Sees existing company-defined statuses (editable inline)
3.	Can click â€œ+ Add New Statusâ€
o	Enters Status Name
o	Selects Color
o	Must map to a system status from dropdown
4.	On Save, system checks:
o	All system statuses have at least one mapping
o	No duplication of status names
o	System prompts: â€œChanging a status will affect existing tasksâ€

ğŸ”„ 4. What Happens to Existing Tasks?
If a company renames or remaps a status:
â€¢	Existing tasks remain unchanged in database (linked to system code)
â€¢	UI dynamically renders using updated company-defined label
â€¢	Activity feed records:
"Task status updated display from â€˜Pendingâ€™ to â€˜New Pendingâ€™"
ğŸ›‘ If a company tries to delete a status, system prevents it if itâ€™s being used â€” or offers a merge option (move tasks to a different company status mapped to same system status).


ğŸŒ 6. UI Considerations
â€¢	Status shown in dropdowns (e.g., task cards, Kanban board) will show company-defined statuses with color tags
â€¢	Admin view will have table:
Company Status	Color	System Mapping	Tasks Using
Working On	Blue	In Progress	452

âš™ï¸ BEHAVIOR IN TASK VIEW / UPDATE
WHERE & HOW USER SEES / UPDATES STATUS:
â€¢	In Task List View:
o	Small status pill/badge
o	Hover â†’ shows quick dropdown (editable for assigned users)
â€¢	In Task Detail Modal:
o	Inline dropdown for status (editable, modern style)
o	Change triggers confirmation pop-up for â€œfinalâ€ statuses like "Completed" or "Cancelled"
o	Activity log records status changes (Status changed from OPEN to INPROGRESS by Priya)

ğŸ§  RULES & LOGIC
Default Assignment:
â€¢	New task â†’ Gets company-defined default status (else "Open")
Edit Permissions:
â€¢	Only:
o	Task assignee
o	Collaborators (if allowed)
o	Admins
Bulk Update:
â€¢	Multiple tasks can have status changed in Task List (bulk-select)
Status Logic for Sub-Tasks:
â€¢	Parent task canâ€™t be marked â€œCompletedâ€ until all sub-tasks are either:
o	Done
o	Cancelled (optional setting)

ğŸ”„ HANDLING STATUS CHANGES (Retroactive)
When a company changes its status list (adds, renames, removes):
Scenario	Behavior
A status is renamed	All tasks with old label auto-update display label (no data change)
A status is deleted	System prompts admin to map old status to a new one
A new default is set	All future tasks use the new default. Existing tasks are unaffected.
Data Integrity:
â€¢	All statuses (even retired ones) are preserved in task history (activity logs).
â€¢	System keeps a hidden mapping table for legacy status values to prevent breaking reports.

ğŸŒˆ USER FRIENDLINESS
â€¢	Status Pill Colors: Color-coded status labels (configurable per status)
â€¢	Quick Status Change: Dropdown shows only valid next statuses.
â€¢	Autosave: Inline changes auto-save when user clicks outside.
â€¢	Tooltips: Hover over status explains what it means (for clarity)

ğŸ”§ BACKEND DESIGN OVERVIEW (High-Level)
â€¢	Table: status_master
o	status_id, label, description, color, is_final, is_default, company_id (null for global), active_flag
â€¢	Table: task_status_history
o	task_id, previous_status_id, new_status_id, changed_by, changed_at
________________________________________
âœ… SUMMARY
Feature	Supported	Configurable
Default System Statuses	âœ…	âœ…
Company-Defined Statuses	âœ…	âœ…
Status Edit from Task List & Detail	âœ…	-
Retroactive Handling of Deleted Status	âœ…	-
Activity Feed Logging	âœ…	-
Sub-task Blocking Final Status	âœ…	âœ… (optional)
